---
layout: slides
title: MMP 210
week: 5
dek: p5 - drawing with loops
---

<div class="slide">
	<p>In p5, we can use loop to draw many more shapes and colors with much less code.  Let's look at a few of our old examples, reworked using loops.</p>
</div>

<!-- 
this all sucks, rewrite with this progression:
draw ten circles hard coded
function setup() { 
	createCanvas(640, 360);
	ellipse(50, height/2, 40);
	ellipse(100, height/2, 40);
	ellipse(150, height/2, 40);
	ellipse(200, height/2, 40);
	ellipse(250, height/2, 40);
	ellipse(300, height/2, 40);
	ellipse(350, height/2, 40);
	ellipse(400, height/2, 40);
	ellipse(450, height/2, 40);
	ellipse(500, height/2, 40);
}
draw ten circles with x and space vars
var x = 50;
var space = 50;
function setup() { 
  createCanvas(640, 360);
	ellipse(x, height/2, 40);
	x += space;
	ellipse(x, height/2, 40);
	x += space;
	ellipse(x, height/2, 40);
	x += space;
	ellipse(x, height/2, 40);
	x += space;
	ellipse(x, height/2, 40);
	x += space;
	ellipse(x, height/2, 40);
	x += space;
	ellipse(x, height/2, 40);
	x += space;
	ellipse(x, height/2, 40);
	x += space;
	ellipse(x, height/2, 40);
	x += space;
	ellipse(x, height/2, 40);
}
draw ten circles with a loop
var space = 50;
function setup() { 
  createCanvas(640, 360);
	for (var x = 50; x < width; x += space) {
		ellipse(x, height/2, 40);
	}
}
draw ten self portraits with a loop
var space = 50;
function setup() { 
  createCanvas(640, 360);
	rectMode(CENTER);
	for (var x = 50; x < width; x += space) {
		ellipse(x, height/2, 40);
		ellipse(x - 10, height/2 - 10, 10);
		ellipse(x + 10, height/2 - 10, 10);
		rect(x, height/2 + 10, 30, 10, 5);
	}
}
draw a grid with a loop
columns
var column = 40;
function setup() { 
  createCanvas(640, 360);
	rectMode(CENTER);
	for (var x = 0; x <= width; x += space) {
		line(x, 0, x, height);
	}
}
columns and rows
var column = 40;
var row = 20;
function setup() { 
  createCanvas(640, 360);
	rectMode(CENTER);
	for (var x = 0; x <= width; x += column) {
		line(x, 0, x, height);
		for (var y = 0; y <= height; y += row) {
			line(0, y, width, y);
		}
	}
}
do the cool mouse thing with a loop
function setup() { 
	createCanvas(640, 360);
	noStroke();
} 

function draw() { 
	var sz = 10;
	for (var x = 0; x < width; x += sz) {
			//line(x, 0, x, height);
		if (mouseX > x) {
			fill(mouseX-x);
		} else {
			fill(x-mouseX);
		}
		rect(x,0,sz, height);
	}
}

 -->



<div class="slide">
	<p>In week 2 we did an example that made several circles with different colors by repeating the same line of code several times: <a href="http://alpha.editor.p5js.org/owenroberts/sketches/r1Z8cxbFx" target="blank">drawing variables example</a>.  Here are the lines that were repeated five times:</p>
	<pre><code>fill(r, g, b);
ellipse(xPos, yPos, size);
r -= redInc;</code></pre>
	<p>Let's try rewriting this with a loop.</p>
</div>

<div class="slide">
	<p>Last week we made a grid using static variables <code>width</code> and <code>height</code>:</p>
	<pre><code>/* draw a grid */
stroke("green");
line(0, height/2, width, height/2);
line(width/2, 0, width/2, height);</code></pre>
</div>

<div class="slide">
	<p>Let's try extending our grid using a loop.</p>
	<pre><code>function setup() {
	createCanvas(640, 480);
	background("white");
	
	stroke("darkblue");
	strokeWeight(2);
	
	var x = 0;
	var y = 0;
	
	var ratio = 10;
	var xunit = width/ratio;
	var yunit = height/ratio;
	
	for (var i = 0; i < ratio - 1; i++) {
		x += xunit;
		y += yunit;
		line(x, 0, x, height);
		line(0, y, width, y);
	}
}</code></pre>
</div>

<div class="slide">
	<p>In the last example we will use two loops to make a grid of shapes.  We can grab the conditions from the grid example and use them as the basis for the for loop.</p>
	<pre><code>function setup() { 
  createCanvas(400, 400);
  background(220);
  
  var space = 25;

  for (var x = space/2; x < width; x+=space) {
    for (var y = space/2; y < height; y+=space) {
      ellipse(x, y, 20);
    }
  }
}</code></pre>
</div>