---
layout: slides
title: 	p5.js
week: 2
---

<!-- HTML canvas -->
<div class="slide">
	<h2>HTML5 Canvas</h2>
	<p>The HTML5 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API" target="blank">Canvas</a> is a HTML element introduced with the HTML5 standard around 2011 to implement graphical programming within the web browser.</p>
	<p>The canvas can be used to draw graphics on the screen using JavaScript.  This can be done in <a href="https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial" target="blank">vanilla JavaScript</a> (vanilla refers to the practice of writing JavaScript without the addition of libraries like jQuery) but there are many libraries that make drawing to the canvas easier.</p>
</div>

<!-- what is p5? -->
<div class="slide">
	<h2>p5</h2>
	<p><a href="http://p5js.org/" target="blank">p5</a> is a JavaScript library inspired by the design, code and philosophy of <a href="https://processing.org/" target="blank">Processing</a>, a Java based library designed starting in 2001 in order to be a language friedly to artists and educators learning how to use programming in an artistic context.</p>
</div>

<div class="slide">
	<p>Like Processing, <note>p5</note> was developed with idea of drawing in mind.  Programs are referred to as <em>sketches</em> and basic drawing tools like shape and color form the basis of the language.</p>
	<p>Since it's origin, many other functionalities have been added to this set to incorporate things like interaction, audio and video.</p>
</div>

<!-- adding p5 -->
<div class="slide">
	<p>Let's get started by adding the p5 library to an HTML project and creating a new JavaScript sketch file to begin writing our program.</p>
	<p>Start by <a href="https://github.com/processing/p5.js/releases/download/0.5.14/p5.min.js" target="blank">downloading the p5 library</a>.</p>
	<p>In our HTML/CSS review, we created a basic HTML and CSS file to be a placeholder for our project this semester. To begin let's make a copy of those files to start a new project.  We're going to work on the first assignemnt, a self portrait, so we can name that folder <note>selfportrait/</note> and place it inside our main <note>mmp210/</note> folder.</p>
</div>

<div class="slide">
	<p>Then add the <code>p5.min.js</code> file into the same folder and update your HTML page to add two <code>&lt;script&gt;</code> tags, which are like a <code>&lt;link&gt;</code> tag for CSS or <code>&lt;img&gt;</code> tag for images, but for loading JavaScript documents.</p>
</div>

<div class="slide">
	<div class="ex" data-lang="html">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;MMP 210 Homepage&lt;/title&gt;
	&lt;link rel="stylesheet" type="text/css" href="style.css"&gt;
	&lt;meta charset="utf-8"&gt;
&lt;/head&gt;
&lt;body id="home"&gt;
	&lt;h1&gt;Self Portrait&lt;/h1&gt;
	&lt;ul&gt;
		&lt;li class="link"&gt;&lt;a href="/"&gt;Home&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;script src="p5.min.js"&gt;&lt;/script&gt;
	&lt;script src="sketch.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</div>
</div>

<div class="slide">
	<p>The second <code>&lt;script&gt;</code> tag is for <code>sketch.js</code> which doesn't exist yet, so create a new file and save it as <code>sketch.js</code>.  This is where our JavaScript program will begin.</p>
	<p>Before we start let's talk about the way a p5 sketch considers dimensions.</p>
</div>

<!-- cartesian vs screen coordinates -->
<div class="slide">
	<h2>Coordinate system</h2>
	<p>Cartesian coordinate system vs p5 coordinate system</p>
	<img src="coordinate_system.png" />
	<p class="label"><a href="https://processing.org/tutorials/drawing/" target="blank">https://processing.org/tutorials/drawing/</a></p>
</div>

<div class="slide">
	<h2>First sketch</h2>
	<p>Okay, let's get started.  Here's the beginning of our program:</p>
</div>

<div class="slide">
	<div class="ex" data-preview>function setup() {
	createCanvas(640, 360);
}

function draw() {
	background(220);
	ellipse(320, 180, 100);
}</div>
</div>

<div class="slide">
	<p>Let's talk about some observations about what might be happening here and then go over the code.</p>
</div>

<div class="slide">
	<h2>Functions</h2>
	<p>Every <code>p5</code> sketch has two main functions.  The <code>setup</code> function is used to setup our drawing and initialize some basics.  It runs <em>once</em> when our program starts.</p>
	<p>Let's do a quick aside to explain functions in JavaScript, because we're going to be using a them today and for the rest of the semester.  Basically everything in JavaScript and p5 uses functions.</p>
</div>

<div class="slide">
	<p>A <code>function</code> is simply a series of commands or actions we want the program to perform.  Functions have names so we can invoke or call them.  When we call a function, the program runs the lines of code contained inside.</p>
	<p>A function is sort of like a mini-program inside of the main program.</p>
	<p>Functions are used to describe a task that you may want to do more than once, so it can be repeated.</p>
	<p>A function is sort of like a recipe for a peanut butter and jelly sandwich.  There are a steps that can be followed to make the sandwich that are pretty much the same every time, but might have some variation depending on what ingredients you have available.</p>
</div>

<div class="slide">
	<h2>Function declaration</h2>
	<p>Creating a function is like declaring a variable with slightly different syntax.  There are a few ways to do it, but the way we will mostly be doing it looks like this:</p>
	<pre><code>function foo() {
	var fruit = "banana";
	console.log(fruit);
}</code></pre>
</div>

<div class="slide">
	<p>To make that function run, it must be called or <note>invoked</note>.  Invoking a function is done by writing the function name again with parentheses.</p>
	<pre><code>foo();</code></pre>
	<p>Once defined, the function can be called as many times as needed for the program.</p>
</div>

<div class="slide">
	<h2>Arguments</h2>
	<p>Functions use arguments to change the outcome.  An argument might be like a special ingredient in our sandwich.</p>
	<pre><code>function sandwich(fruit) {
	console.log("A peanut butter, jelly and " + fruit + " sandwich.");
}</code></pre>
</div>

<div class="slide">
	<p>The result of the function depends on the value argument added.  The argument is added in the parentheses when the function is invoked.</p>
	<pre><code>sandwich("banana");
sandwich("apple");
sandwich("ketchup");</code></pre>
</div>


<div class="slide">
	<h2>createCanvas</h2>
	<p>Back to our p5 sketch.</p>
	<p>The <code>createCanvas</code> function creates a new <code>&lt;canvas&gt;</code> element on the HTML page where our drawing code will be rendered.</p>
	<p>The two numbers, <code>(640, 640)</code> in parentheses are <em>arguments</em>.  Some functions, like <code>createCanvas</code> take arguments, which have an effect on the way the function behaves.  In this case, the numbers determines the <code>width</code> and <code>height</code> of our drawing in pixel dimensions.</p>
</div>

<div class="slide">
	<p>Here's our basic sketch again.  Try changing the arguments to <code>createCanvas</code> to see how the sketch is changed.</p>
</div>

<div class="slide">
	<div class="ex" data-preview>function setup() {
	createCanvas(640, 360);
}

function draw() {
	background(220);
	ellipse(320, 180, 100);
}</div>
</div>

<div class="slide">
	<p>Now try changing the arguments in the other functions.  What happens?  Can you guess what each value represents?</p>
</div>

<div class="slide">
	<p>Now let's continue.  The following is a basic self portrait example.</p>
	<p>In p5, <code>setup</code> is called once when the program starts.</p>
	<p>The <code>draw</code> function is where all of our drawing code will go.  This function runs over and over again for as long as the program is open.  So all of that code is being executed about 60 times a second, or however fast your browser is running.</p>
</div>

<div class="slide">
	<div class="ex" data-preview>// self portrait
function setup() {
	createCanvas(640, 360);
}

function draw() {
	background("white");
	noStroke();
	
	// face
	fill("green");
	rect(100, 50, 200, 250);
	
	// eyes
	fill("blue");
	ellipse(150, 150, 50, 100);
	ellipse(250, 150, 40, 80);
	
	// ears
	fill("yellow");
	ellipse(150, 150, 40, 40);
	ellipse(250, 150, 30, 30);

	// mouth
	stroke("blue");
	line(150, 250, 250, 280);
}</div>
</div>

<div class="slide">
	<p>There's a few more functions in here.  You may be able to guess what they do based on their names.  We'll look through and talk about all of them.</p>
</div>

<div class="slide">
	<h2>p5 Reference</h2>
	<p>The <a href="https://p5js.org/reference/" target="blank">p5 Reference</a> page has a list of all the functions and properties with links to examples and descriptions.</p>
	<p>This type of resource is know as <note>documentation</note>.  Documentation is an essential resource for learning any programming language.  Reading and using documentation is an important skill for a developer to work on.</p>
	<p>Click on the <em>shape</em> link in the reference page and choose a <em>2D primitive</em> and read the reference page.  These are what we'll be covering first.</p>
</div>

<div class="slide">
	<h2>Shapes</h2>
	<p>In our sketch we are using default <a href="https://p5js.org/reference/#group-Shape" target="blank">shape</a> functions defined by <note>p5</note>, including <code>ellipse</code> and <code>rect</code>.</p>
	<p>These lines are functions.  Eventually you will write your own functions but for now we're going to learn about them using the <note>p5</note> defined functions.</p>
	<p>In p5, there are default shapes with different qualities.  Shapes are defined by the position in the canvas, the size of the shape and the type of shape.</p>
</div>

<div class="slide">
	<h2>Rect</h2>
	<pre><code>rect(100, 100, 200, 250);</code></pre>
	<p>The order of the <code>rect</code> arguments is also <code>(x, y, width, height)</code>.</p>
</div>

<div class="slide">
	<p><note>Note:</note> In these examples I am omitting the <code>draw</code> function because the drawing only needs to be rendered once.  We'll talk more about this when we cover interactivity.</p>
	<div class="ex" data-preview>function setup() {
	createCanvas(200, 200);
	background(220);
	rect(50, 50, 100, 100);
}</div>
</div>


<div class="slide">
	<p>A function is called using the <code>()</code> at the end.  These are the special characters that lets the program know to call the function or make it do whatever it is written to do.</p>
	<p>Inside the <code>()</code> are <note>arguments</note> which we can change to change the outcome of the function.  For an <code>ellipse</code> we use the arguments to determine the x and y position of the ellipse on the canvas, as well as the width and height.</p>
	<p>In these example, all of the arguments are numerical values like <code>100</code> or <code>200</code>.</p>
</div>


<div class="slide">
	<p>The arguments need to be written in the specified order.  For ellipse it is <code>(x, y, width, height)</code>.</p>
	<p>You can also make a circle (an ellipse with the same width and height), by using three arguments: <code>(x, y, size)</code>.</p>
</div>

<div class="slide">
	<h2>Ellipse & Arc</h2>
	<pre><code>ellipse(150, 200, 50, 100);</code></pre>
	<p>A function is a series of instructions for our program.  It's sort of like a mini program within the larger program.  A function has a name that describes what it does, such as <code>ellipse</code> which renders or draws an ellipse on the canvas.</p>
</div>

<div class="slide">
	<div class="ex" data-preview>function setup() {
	createCanvas(200, 200);
	background(220);
	ellipse(100, 100, 100, 100);
}</div>
</div>


<div class="slide">
	<pre><code>arc(150, 200, 50, 100, 0, PI);</code></pre>
	<p><code>arc</code> is like an <code>ellipse</code> that has a starting and ending point, like a pie.  It also uses the Math constant, <code>PI</code>, as a measurement for the start and end point.</p>
	<p>The starting point <code>0</code> is at 3 o'clock on a clock face.  <code>PI</code> is halfway around at 9 o'clock and <code>PI * 2</code> or <code>TWO_PI</code> brings us back to the beginning.</p>
</div>

<div class="slide">
	<div class="ex" data-preview>function setup() {
	createCanvas(200, 200);
	background(220);
	arc(100, 100, 100, 100, 0, PI);
}</div>
</div>

<div class="slide">
	<h2>rectMode</h2>
	<p>By default, a rectangle will be drawn from the top left corner, while the ellipse and arc are drawn from the center.</p>
	<p>Using <code>rectMode</code> the rectangle can be changed to draw from the center.</p>
</div>

<div class="slide">
	<div class="ex" data-preview>function setup() {
	createCanvas(400, 200);
	background(220);

	// default
	ellipse(50, 50, 50);
	rect(50, 50, 100, 100);

	rectMode(CENTER);
	rect(300, 50, 100, 100);
	ellipse(300, 50, 50);
}</div>
</div>


<div class="slide">
	<h2>Point, line, triangle, quad</h2>
	<p><code>rect</code>, <code>ellipse</code> and <code>arc</code> use an xy coordinate to determine the position and then add a width and height to determine the size of the shape.</p>
	<p>These shapes use a series of points and fill lines between the points.</p>
</div>

<div class="slide">
	<div class="ex" data-preview>function setup() {
	createCanvas(200, 200);
	background(220);
	point(100, 10); // one xy coordinate
	line(20, 20, 180, 20); // two xy coordinates
	// after 2 points a fill is added
	triangle(40, 40, 100, 100, 160, 40); // three xy coordinates
	quad(60, 120, 140, 120, 180, 180, 20, 180); // four xy coordinates
}</div>
</div>

<div class="slide">
	<h2>Comments</h2>
	<p>In the previous example, I added some notes into my code using <em>comments</em>.  In programming, comments are sections of the script that are not read by the compiler or interpreter.  They are used for developers to write notes to other developers explaining what the code is doing in plain English.</p>
	<p>Comments can also be used to remove sections of code temporarily to test a program.</p>
</div>

<div class="slide">
	<p>In JavaScript, there are two types of comments:</p>
	<pre><code>// single line </code></pre>
	<p>Single lines comments are used to explain one line of code or create sections of code.</p>
	<pre><code>// face
rect(10, 10, 10, 10);
ellipse(10, 10, 20); // left eye</code></pre>
</div>

<div class="slide">
	<pre><code>/*
	multi-line
*/</code></pre>
	<p>Multi-line comments are for blocks of comments to explain an entire file or large section of code.</p>
	<pre><code>/*
	Self Portrait
	by Wayne Gretzky
	version 1.0
	Jan 1 1999
*/</code></pre>
</div>


<!-- <div class="slide">
	<p>The <code>fill</code> and <code>stroke</code> functions set the <a href="https://p5js.org/reference/#group-Color" target="blank">color</a>. We'll cover these functions in depth next week.</p>
	<p>Try playing around with these functions and arguments to change the drawing and create your own self portrait.  We'll go over the functions in further detail next week.</p>
</div> -->