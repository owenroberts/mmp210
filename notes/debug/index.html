---
layout: slides
title: JavaScript debugging
week: 3
---

<!-- what is debugging? -->
<div class="slide">
	<h2>What is debugging?</h2>
	<p>The term "computer bug" was coined by <a href="https://en.wikipedia.org/wiki/Grace_Hopper" target="blank">Grace Hopper</a> in 1946, when she discovered that a computer program running on the Mark II machine had a moth trapped in an eletrical relay.  The moth was trapped and preserved in the log book.</p>
	<p>Generally, a bug is an error or flaw in a computer program that causes the execution to fail.</p>
	<p>In JavaScript there are fewer fatal errors.  The language is very forgiving of type errors and other things that would cause classical languages to fail.  However, JavaScript programs can fail, and when they do it can be difficult to understand why, in part because other elements of the HTML page, and even other JavaScripts scripts can continue to execture.  The web page will still load, so we need to use debugging tools like the Chrome Developer console to find these errors.</p>
</div>

<div class="slide">
	<p>Go ahead and open the console now:</p>
	<p><strong class="karla">View > Developer > JavaScript Console</strong></p>
	<p><span class="key">CAj</span></p>
</div>

<div class="slide">
	<p>It's pretty easy to create an error.  Try typing this:</p>
	<pre><code><c></c>x + 1</code></pre>
	<p>You will see some red text like this:</p>
	<pre><code class="nohighlight"><c></c><span style="color:red;">Uncaught ReferenceError: x is not defined at:1:1</span></code></pre>
	<p>We haven't initalized <code>x</code> with a string or number value, so we can't add a number to it.</p>
</div>

<!-- general approach -->
<div class="slide">
	<h2>How to debug</h2>
	<p><code>0.</code> All programmers encounter bugs in their code and many will spend more time debugging then writing new code.  It is a good idea to develop strategies for debugging as you learn programming to save time.</p>
</div>

<div class="slide">
	<p><code>1.</code> Make sure you are <note>editing the right file</note>.  Try closing Brackets (or your text editor) and reopening to make sure the file you are editing is the same one you are viewing in your browser.</p>
</div>

<div class="slide">	
	<p><code>2.</code> Bugs can be <note>technical</note> problems with your code, like a typo or misspelled method.  But they can also be <note>conceptual gaps</note> between what you expect a program to do and how it actually performs.  They can also be a combination of the two things.  The first thing to do is <note>identify which type</note> of bug you are facing.</p>
</div>

<div class="slide">
	<p><code>3.</code> Finding a bug requires a different mindset than writing a program.  Instead of writing what you want the computer to do, you need to go back through your code and figure out where it stopped doing what you thought it would.  <note>Don't be upset!</note>  Everyone gets bugs.  If your program suddenly stops rendering, don't get mad and say "it's just not doing anything."  Take a step back, maybe go for a quick drink of water or walk around the block, and then look at your code with fresh eyes.</p>
</div>

<div class="slide">	
	<p><code>4.</code> <note>Don't delete you code!</note>  You will need to add some new lines of code to figure out what's behaving incorrectly.  Don't undo everything or trash your file.  You might lose some useful work.</p>
</div>

<div class="slide">
	<p><code>5.</code> If something is not running, add a <code>console.log()</code> before and after to see what happens.  Test all of your variables in different parts of your program to make sure they are logging what you expect.</p>
</div>

<div class="slide">	
	<p><code>6.</code> You should have the <note>JavaScript Console</note> open basically all of the time when you are working on a project.  When your code throws error, remember to look at the line number and read through the JavaScript function stack to find where the error originated.</p>
	<img src="callstack.png">
</div>

<div class="slide">	
	<p><code>7.</code> When you log errors that you don't understand, try searching the same error on Google or <a href="http://stackoverflow.com" target="blank">Stack Overflow</a>.  Remember that some parts of your program are not universal.  If you error is <code style="color:red;">mySpecialVariable is not defined</code> you won't find other examples with the exact same variable names.</p>
</div>

<!-- using console.log -->
<div class="slide">
	<h2>console.log()</h2>
	<p>The JavaScript <code>console</code> is an object that let's you interact with your program while it's running.  The <code>.log()</code> method is used to write message with strings, numbers and variables, to the web console.  You can log as much as you want, but it will impact performance a little, so it's a good idea to remove the <code>console.log()</code> calls from your program when you are done debugging.</p>
	<pre><code><c></c>var msg = "Hello world!";
<c></c>console.log(msg);
<c></c>var i = 0;
<c></c>console.log(i);
<c></c>console.log(i, msg);
<c></c>console.log("my error", i, msg);</code></pre>
</div>
<!-- common errors -->
<div class="slide">
	<h2>Common errors</h2>
	<style>
		td:first-child {
			color:red;
			font-family:"monaco";
			border-color:black;
		}
	</style>
	<table>
		<tr>
			<th>Error</th>
			<th>What to look for</th>
		</tr>
		<tr>
			<td>SyntaxError</td>
			<td>syntactically invalid code <br>
			look for a missing comma, operator, parenthesis</td>
		</tr>
		<tr>
			<td>Reference Error</td>
			<td>a non-existant variable is references <br>
			check for misspelled or undeclared variables</td>
		</tr>
		<tr>
			<td>Failed to load resource</td>
			<td>attempting to load a file that doesn't exist <br>
			make sure the file exists and has the correct path</td>
		</tr>
		<tr>
			<td>NaN</td>
			<td>trying to evaluate an expression with a non-number value <br>
			console.log() to see what values are not numbers</td>
		</tr>
	</table>
</div>